<script src="https://unpkg.com/htmx.org/dist/ext/json-enc.js"></script>
<script src="https://unpkg.com/htmx.org@1.9.12/dist/ext/include-vals.js"></script>

<article>
	<section>
		<div class="flex justify-start align-center">
			<img class="rounded-square margin-lr" style="height: 76px;" src="@data.thumbnails_links" />
			<h2 class="margin-lr">@data.title</h2>
		</div>
		<grid>
			<div>
				<img src="@data.images_links" />
			</div>

			<div class="flex" style="height: 100%;">
				<p>Autor: <b>@data.author</b></p>
				<div style="flex-grow: 1;">
					<p>Sinopse:</p><textarea no-outline readonly class="font-bold"
						style="width: 100%; height: 80%;">@data.sinopse</textarea>
				</div>
				<div>
					<p>Avaliação geral: <b>@data.geral_evaluation</b></p>
					<p>Nº Avaliações: <b>@data.qtde_evaluation</b></p>
				</div>
			</div>
		</grid>

		<grid class="margin-bt">
			@if data.price_printed != none
			<article>
				<h4 class="margin-lr">Preço (físico): <b>$ @price_printed </b></h4>
			</article>
			@endif

			@if data.price_kindle_ebook != none
			<article>
				<h4 class="margin-lr">Preço (digital): <b>$ @price_kindle_ebook</b></h3>
			</article>
			@endif
		</grid>
	</section>

	<form hx-post="@url/save/@save_is" hx-ext="json-enc" hx-vals="@json_data" hx-target="#result-modal">
		<button type="submit" class="container-full padding-bt">Salvar</button>

		<input type="number" step="0.01" id="price_printed" name="price_printed" style="display: none;" />
		<input type="number" step="0.01" id="price_kindle_ebook" name="price_kindle_ebook" style="display: none;" />
		<input type="number" step="0.1" id="geral_evaluation" name="geral_evaluation" style="display: none;" />
		<input type="number" id="qtde_evaluation" name="qtde_evaluation" style="display: none;" />
		<input type="text" id="link" name="link" style="display: none;" />
		<input type="text" id="title" name="title" style="display: none;" />
		<input type="text" id="author" name="author" style="display: none;" />
		<textarea id="sinopse" name="sinopse" style="display: none;"></textarea>
		<input type="text" id="link_amostra" name="link_amostra" style="display: none;" />
		<input type="text" id="images_links" name="images_links" style="display: none;" />
		<input type="text" id="thumbnails_links" name="thumbnails_links" style="display: none;" />
	</form>
	<div id="result-modal"></div>

</article>